<app-landing>
    <div
        class="flex flex-col gap-3 w-full pt-[4rem] md:pt-[5rem] px-5 md:px-20 lg:px-20 mb-5 pb-5 border-b border-t-0 border-x-0 border-dashed border-gray-400">
        <!-- Kurir -->
        <div class="flex flex-col gap-0">
            <p class="text-sm text-gray-800">
                Pilih Kurir
            </p>

            <p-dropdown [(ngModel)]="Kurir" [options]="KurirDatasource" optionLabel="name" optionValue="code"
                styleClass="p-inputtext-sm w-full" placeholder="Pilih Kurir" appendTo="body" [filter]="true"
                [autoDisplayFirst]="false">
            </p-dropdown>
        </div>

        <!-- Input Resi -->
        <div class="flex flex-col gap-0 mb-1">
            <p class="text-sm text-gray-800">
                Masukkan Resi
            </p>

            <input type="text" [(ngModel)]="NoResi" pInputText class="p-inputtext-sm w-full"
                placeholder="Masukkan resi">
        </div>

        <!-- Button -->
        <div class="grid w-full">
            <p-button severity="info" styleClass="p-button-sm w-full" label="Track Resi" [disabled]="!NoResi"
                (onClick)="handleSearch()">
            </p-button>
        </div>
    </div>

    <div *ngIf="Result as tracking" class="flex flex-col px-5 md:px-20 lg:px-20 pb-20">
        <div class="flex w-full mb-5">
            <div class="flex flex-col w-6/12 gap-2">
                <!-- No Resi -->
                <div class="flex flex-col">
                    <p class="text-sm text-gray-700">
                        No. Resi
                    </p>
                    <p class="text-sm text-gray-800 font-semibold">
                        {{ tracking.tracking_number }}
                    </p>
                </div>

                <!-- Kurir Ekspedisi -->
                <div class="flex flex-col">
                    <p class="text-sm text-gray-700">
                        Kurir Ekspedisi
                    </p>
                    <p class="text-sm text-gray-800 font-semibold">
                        {{ tracking.courier_code | titlecase }}
                    </p>
                </div>
            </div>

            <div class="flex flex-col w-6/12 gap-2">
                <!-- Status -->
                <div class="flex flex-col">
                    <p class="text-sm text-gray-700">
                        Status
                    </p>
                    <p class="text-sm text-gray-800 font-semibold">
                        {{ tracking.current_status }}
                    </p>
                </div>

                <!-- Update Terakhir -->
                <div class="flex flex-col">
                    <p class="text-sm text-gray-700">
                        Update Terakhir
                    </p>
                    <p class="text-sm text-gray-800 font-semibold">
                        {{ tracking.last_updated | date: 'dd-MM-yyyy HH:mm:ss' }}
                    </p>
                </div>
            </div>
        </div>

        <div class="grid w-full">
            <p-timeline [value]="tracking.histories" styleClass="customized-timeline">
                <ng-template pTemplate="content" let-event>
                    <div class="flex flex-col w-full">
                        <p class="text-base text-gray-800 font-semibold">
                            {{ event.date | date: 'dd-MM-yyyy HH:mm' }}
                        </p>

                        <p class="text-sm text-gray-700">
                            {{ event.status }} - {{ event.location }}
                        </p>

                        <p class="text-sm text-gray-700 mb-2">
                            {{ event.description }}
                        </p>
                    </div>
                </ng-template>
            </p-timeline>
        </div>
    </div>
</app-landing>